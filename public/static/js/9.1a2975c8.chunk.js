(this["webpackJsonpjetcake-project"]=this["webpackJsonpjetcake-project"]||[]).push([[9],{328:function(e,t,a){"use strict";var n=a(329);function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!==typeof e)throw new r("Invalid token specified");var a=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[a]))}catch(s){throw new r("Invalid token specified: "+s.message)}},e.exports.InvalidTokenError=r},329:function(e,t,a){var n=a(330);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,(function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a})))}(t)}catch(a){return n(t)}}},330:function(e,t){function a(e){this.message=e}a.prototype=new Error,a.prototype.name="InvalidCharacterError",e.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,s=0,l=0,c="";r=t.charAt(l++);~r&&(n=s%4?64*n+r:r,s++%4)?c+=String.fromCharCode(255&n>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return c}},345:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),l=a(16),c=a(30),o=a(22),i=a(4),u=a(45),m=a(23),d=a(14),E=a(7),p=a(11),f=a(36),h=a.n(f),b=a(19),q=a(328),w=a.n(q);function N(e){var t=e.token,a=Object(n.useState)(),f=Object(c.a)(a,2),q=f[0],N=f[1],g=Object(n.useState)(),x=Object(c.a)(g,2),y=x[0],v=x[1],k=Object(b.g)(),S=Object(o.c)(),j=p.object({questions:p.object({one:p.object().shape({question:p.string().min(6,"Question is too short!").max(50,"Question is too long!").required("Question is required!"),answer:p.string().required("Answer is required!")}),two:p.object().shape({question:p.string().min(6,"Question is too short!").max(50,"Question is too long!").required("Question is required!"),answer:p.string().required("Answer is required!")}),three:p.object().shape({question:p.string().min(6,"Question is too short!").max(50,"Question is too long!").required("Question is required!"),answer:p.string().required("Answer is required!")})})});return r.a.createElement(E.d,{initialValues:{questions:{one:{question:"",answer:""},two:{question:"",answer:""},three:{question:"",answer:""}}},validationSchema:j,onSubmit:function(e,a){var n=e.questions,r=a.setSubmitting,s=w()(t)._id;r(!0),h.a.put("/users/".concat(s),{security_questions:[n.one,n.two,n.three]},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data.success?(N(!0),v("Security questions updated"),S({type:"SET_HAS_SECURITY",payload:!0}),k.push("/dashboard")):(N(!1),v("An unknown error occured"),r(!1),!1)})),r(!1)}},(function(e){var t=e.isSubmitting;return r.a.createElement(E.c,null,r.a.createElement(s.a,null,r.a.createElement(l.a,{xs:{span:10,offset:1}},r.a.createElement("hr",null),r.a.createElement("div",{className:"text-center form-reason"},r.a.createElement("h3",null,"Please create 3 security questions")),r.a.createElement("hr",null),y?q?r.a.createElement(d.a,{className:"mb-2 form-success text-center"},y):r.a.createElement(d.a,{className:"mb-2 form-error text-center"},y):null,r.a.createElement(m.a,null,r.a.createElement(E.a,{name:"questions.one.question"},(function(e){return r.a.createElement(d.a,{className:"mb-1 form-error text-center",variant:"danger"},e)})),r.a.createElement("span",{className:"question-number"},"#1"),r.a.createElement(i.a,{className:"user-check-inputs"},r.a.createElement(i.a.Prepend,null,r.a.createElement(i.a.Text,null,r.a.createElement("i",{className:"fas fa-question"}))),r.a.createElement(E.b,{className:"form-control",disabled:t,type:"text",name:"questions.one.question",placeholder:"Please enter a question..."}))),r.a.createElement(m.a,null,r.a.createElement(E.a,{name:"questions.one.answer"},(function(e){return r.a.createElement(d.a,{className:"mb-1 form-error text-center",variant:"danger"},e)})),r.a.createElement(i.a,{className:"user-check-inputs"},r.a.createElement(i.a.Prepend,null,r.a.createElement(i.a.Text,null,r.a.createElement("i",{style:{color:"transparent"},className:"fas fa-at"}))),r.a.createElement(E.b,{className:"form-control",disabled:t,type:"text",name:"questions.one.answer",placeholder:"Please enter your answer..."}))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(m.a,null,r.a.createElement(E.a,{name:"questions.two.question"},(function(e){return r.a.createElement(d.a,{className:"mb-1 form-error text-center",variant:"danger"},e)})),r.a.createElement("span",{className:"question-number"},"#2"),r.a.createElement(i.a,{className:"user-check-inputs"},r.a.createElement(i.a.Prepend,null,r.a.createElement(i.a.Text,null,r.a.createElement("i",{className:"fas fa-question"}))),r.a.createElement(E.b,{className:"form-control",disabled:t,type:"text",name:"questions.two.question",placeholder:"Please enter a question..."}))),r.a.createElement(m.a,null,r.a.createElement(E.a,{name:"questions.two.answer"},(function(e){return r.a.createElement(d.a,{className:"mb-1 form-error text-center",variant:"danger"},e)})),r.a.createElement(i.a,{className:"user-check-inputs"},r.a.createElement(i.a.Prepend,null,r.a.createElement(i.a.Text,null,r.a.createElement("i",{style:{color:"transparent"},className:"fas fa-at"}))),r.a.createElement(E.b,{className:"form-control",disabled:t,type:"text",name:"questions.two.answer",placeholder:"Please enter your answer..."}))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(m.a,null,r.a.createElement(E.a,{name:"questions.three.question"},(function(e){return r.a.createElement(d.a,{className:"mb-1 form-error text-center",variant:"danger"},e)})),r.a.createElement("span",{className:"question-number"},"#3"),r.a.createElement(i.a,{className:"user-check-inputs"},r.a.createElement(i.a.Prepend,null,r.a.createElement(i.a.Text,null,r.a.createElement("i",{className:"fas fa-question"}))),r.a.createElement(E.b,{className:"form-control",disabled:t,type:"text",name:"questions.three.question",placeholder:"Please enter a question..."}))),r.a.createElement(m.a,null,r.a.createElement(E.a,{name:"questions.three.answer"},(function(e){return r.a.createElement(d.a,{className:"mb-1 form-error text-center",variant:"danger"},e)})),r.a.createElement(i.a,{className:"user-check-inputs"},r.a.createElement(i.a.Prepend,null,r.a.createElement(i.a.Text,null,r.a.createElement("i",{style:{color:"transparent"},className:"fas fa-at"}))),r.a.createElement(E.b,{className:"form-control",disabled:t,type:"text",name:"questions.three.answer",placeholder:"Please enter your answer..."}))))),r.a.createElement(m.a,{className:"m-0"},r.a.createElement(u.a,{className:"user-check-button",type:"submit",disabled:t},"SUBMIT")))}))}function g(e){var t=e.token;return r.a.createElement("div",{className:"user-check-cards"},r.a.createElement(s.a,{className:"text-center"},r.a.createElement(l.a,{xs:"12",className:" mt-4 mb-2"},r.a.createElement("h1",null,"SECURITY QUESTIONS"))),r.a.createElement(s.a,null,r.a.createElement(l.a,{xs:"12"},r.a.createElement(N,{token:t}))))}a.d(t,"default",(function(){return g}))}}]);